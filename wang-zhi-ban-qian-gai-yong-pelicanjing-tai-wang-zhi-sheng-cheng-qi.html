<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        
        <title>網誌搬遷-改用pelican靜態網誌生成器</title>
        <meta charset="utf-8" />
                <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lucas's 部落格 Full Atom Feed" />
                                                <link href="/feeds/blogging.atom.xml" type="application/atom+xml" rel="alternate" title="Lucas's 部落格 Categories Atom Feed" />
                                
        <link href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAACQAAABEAAAAaAAAAIwAAACsAAAAzAAAANwAAADgAAAAzAAAALAAAACMAAAAaAAAAEQAAAAkAAAACMSkkaiwlIJEqIx6RKCIekykiHpQqJCCWLCcjly8pJZcxKyeXMi0plzQuK5Y3MS2UOTQwkz03M5FCPDeRQTk0cGhiXfPBvrz/xsTC/8zKyP/S0M7/19XU/9za2f/f3t3/4N/e/9/d3P/c29r/2tjX/9fV0//T0dD/0M7N/4WAfP57dXH04eDf/+Tj4v/o5+b/6+rp/+7t7f/w8O//8vHx//Py8v/y8vH/8fHw//Dv7//u7e3/7Ovq/+rp6P+Uj4z/e3Vx9OPi4f/n5uX/6+rp/+/u7v/y8vH/4uLi/3d3d//5+fn/+Pj4//b29f/08/P/8fDw/+7u7f/s6+r/lZCN/3t1cfTj4uH/5+bl/+vq6f/u7e3/o6Oj/8XFxf80NDT//Pz8/8vLy/+jo6P/8vLy//Hx8P/v7u3/7Ovr/5aRjv96dHD04d/e/+Pi4f+fn57/Kysr/ycnJv/Lysr/TExM/9vb2//Qz8//KSkp/yoqKv+hoaH/6+rq/+rp6P+VkY3/eXNv9Nza2f9cXFv/Ghoa/5uamf/n5uX/6urp/35+fv+fn57/7ezr/+vq6f+hoKD/HR0d/1xbW//m5eT/lJCM/3dwbPTW1NP/j46N/xYWFv9AQD//rq2s/+Ph4f+trKv/Z2Zm/+Xk4/+zsrL/U1NT/yUlJf+YmJf/5OPi/5SPjP93cW301dPS/9bU0//S0M//goGB/yEhIf+enZz/1NLR/zY2Nv+ko6L/ExMT/4KCgf/e3dz/5+bl/+Xk5P+VkI3/enRw9N/d3P/i4OD/4+Hg/+Lg3//a2dj/zMrJ/9XT0v8yMTH/v769/87My//X1dT/3dzb/+no5//o5+b/l5KP/3x2cvTj4uH/5uXk/+no5//r6un/7Ovr/+rp6f/j4uH/mJeW/8C+vf/Qzcz/0M7N/9HPzf/b2tn/6urp/5mUkf9xa2f01NPT/9jX1v/a2tn/3Nzb/97d3f/f397/4N/f/9/e3v/NzMv/srCv/66sq/+urav/rq2r/7Wzsv+Hg4D/NSwn9DEpJP80LCf/ODAr/zw0L/8/ODP/Qzw3/0dAPP9LRED/T0hE/1JMSP9LRD//Miol/y8oI/8wKCP/NS0n/0I5NO5BOTP/RT03/0lBO/9NRUD/UkpF/1ZOSf9aUk7/XldS/2JbVv9lX1r/aWNe/2RdWf9LR0T/Qz88/0A6NfhMRkIvZF9cTmpmY05xbWpOd3NxTn15d06CfnxOhYKAToWCgE6Df31Of3t5Tnp2dE51cW5ObmlnTmNeW05UTkoz//8AAIABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAA==" rel="icon" type="image/x-icon" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="/theme/pygment.css" />

        <script src="/theme/js/libs/modernizr-2.6.2.min.js"></script>

                <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-43272616-1', 'lucaswei.github.io');
            ga('send', 'pageview');

        </script>
        
            </head>

    <body id="index" class="home">
        <a href="https://github.com/lucaswei/lucaswei.github.io"><img style="position: absolute; top: 0px; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub" /></a>

        <div class="container">

            <div class="row">

                <header id="banner" class="body">
                <h1><strong><a href="/">Lucas's 部落格</a></strong></h1><h3>Lucas's blogging space</h3>
                </header><!-- /#banner -->

                <div id="navigation" class="navbar row">
                    <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>

                    <ul class="columns">
                        <li><a href="/">Home</a></li>

                                                                                                <li><a href="/pages/about-me.html">About Me</a></li>
                                                
                    </ul>
                </div>

                <section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="/wang-zhi-ban-qian-gai-yong-pelicanjing-tai-wang-zhi-sheng-cheng-qi.html" rel="bookmark"
                   title="Permalink to 網誌搬遷-改用pelican靜態網誌生成器">網誌搬遷-改用pelican靜態網誌生成器</a></h2>
                      
            </header>
            <footer class="post-info">
              <abbr class="published" title="2013-08-27T21:07:00">
                Tue 27 August 2013
              </abbr>
                            <address class="vcard author">
                By <a class="url fn" href="/author/lucaswei.html">LucasWei</a>
              </address>
                          </footer><!-- /.post-info -->
            <div class="entry-content">
              <p><img alt="搬家" src="/static/images/搬家.jpg" /></p>
<p>一直想試試<a href="http://pages.github.com/">github page</a>很久了，但是基於懶惰與種種因素...所以一直沒有機會去研究，最近因為想要重新拾起寫網誌的習慣，所以上網研究了許多部落格的方案，
因為雖然想要研究<a href="http://pages.github.com/">github page</a>，但是很多東西還是要重新研究，難免讓人覺得「只是想要寫個網誌而已，需要搞的這麼麻煩嗎？」，
就因為這種懶惰的心態作祟，所以一直很不想直接去研究，而在當初的時間還有考慮使用<a href="http://logdown.com/">Logdown</a>，不過最後還是選擇了<a href="http://pages.github.com/">github page</a></p>
<h3>選擇自己hosting部落格，而不使用Blogger的原因</h3>
<p>最初有這個念頭是因為Blogger的編輯器是屬於<a href="http://en.wikipedia.org/wiki/WYSIWYG">所見即所得</a>的編輯界面，一來很多編輯過的文字特性沒有可稀性，因為編寫完後的內容，會被轉換成<strong>沒有維護性</strong>的HTML程式碼，所以沒有辦法使用到其他地方，除非你尋著原本的HTML使用，
二來，張貼程式碼很不方便，要在一般界面和原始碼界面之間切換，當初使用的方法是先把文字內容編輯好後，再切換到HTML編輯器一一插入片段的程式碼，除了常常插錯，也沒有辦法針對程式碼做syntax highlight。</p>
<p>因為編寫的文章比較沒有需要許多絢麗的特效，所以考慮使用<a href="http://daringfireball.net/projects/markdown/syntax">markdown</a>進行編輯，等到編輯好了之後，再將markdown轉換成HTML直接貼到blogger的編輯界面上；既可以備份原始文字，也解決了編輯不方便的問題。
但也因為如此，這個步驟變得很麻煩，而且日後如果需要修改網誌的內容我也必須修改我自己備份好的markdown，再重新編輯、上傳，自己也需要另外使用服務來備份自己的markdown內容。</p>
<h4>因此出現了選擇以markdown為主要編輯器的網誌的念頭</h4>
<p>所以手中的選擇剩下github page和Logdown，但是考量到備份，以及修改的方便性，最後選擇了github page。</p>
<p>因為目前Logdown所提供的編輯界面雖然很好編輯，但是在主題更換，以及自行修改網誌界面、內容上，還沒有很成熟，
因此我就在想「怎樣的維護、編輯方式，對我來說是最方便的？」，因為自己有編寫javascript、CSS的經驗，很多時候可以直接改內容是最方便的，
所以最後覺得自己尋找靜態的部落格引擎自己編輯後上傳架設，除了這些優點，
因為他是靜態的，需要架設這個部落格的伺服器要求變得相對低很多，也不用考慮動態程式需要考慮的安全問題，最後決定選擇了github page和靜態部落格引擎。</p>
<h3>引擎挑選</h3>
<p><img alt="Pelican" src="/static/images/Pelican.png" /></p>
<p>搜尋靜態部落格引擎中，最大宗的關鍵字不外乎是<a href="http://octopress.org/">octopress</a>和<a href="http://jekyllrb.com/">jekyll</a>，而這兩者又是使用Ruby寫成的，其中<a href="http://jekyllrb.com/">jekyll</a>是github page中推薦的靜態引擎，不過因為自己對於python的熟悉度是比較高的，
總是會希望自己選擇的靜態引擎可以以python為開發語言，所以就上網搜尋大家推薦的靜態引擎，就意外找到很多人推薦的<a href="http://docs.getpelican.com/en/3.2/">Pelican</a>，
再經過搜尋與研究後，發現目前沒有什麼大問題，而且官方文件很詳細也很齊全，所以就選擇了他來進行使用。</p>
<h3>安裝</h3>
<h4>安裝Pelican</h4>
<p>可以參考官方的安裝指示<a href="http://docs.getpelican.com/en/3.2/getting_started.html">Getting started</a>v3.2
如果要使用markdown需要另外安裝</p>
<div class="highlight"><pre>sudo pip install markdown
</pre></div>


<h4>建立一個github page的repository</h4>
<p>開一個repo，名稱需要和帳號相同，並且clone回本地端，因為github page顯示的主要是branch:master的內容，所以需要先開一個branch用來存放網誌的內容，</p>
<div class="highlight"><pre>git branch --orphan gh-pages
</pre></div>


<h4>開始建立你的第一個部落格專案</h4>
<p>切換到gh-pages的branch</p>
<div class="highlight"><pre>git checkout gh-pages
</pre></div>


<p>建立你的部落格</p>
<div class="highlight"><pre>pelican-quickstart
</pre></div>


<p>之後會產生的檔案結構如下：</p>
<div class="highlight"><pre>yourproject/
├── content
│   └── (pages)
├── output
├── develop_server.sh
├── Makefile
├── pelicanconf.py       # Main settings file
└── publishconf.py       # Settings to use when ready to publish
</pre></div>


<h4>修改Makefile</h4>
<p>在輸入完<code>pelican-quickstart</code>後，會出現比較細項的問題，例如佈署的細節設定（EX:ftp, Dropbox, scp, <strong>Github page</strong>），在修改後會產生許多檔案和一個Makefile，
而這個Makefile是以後用來編你的部落格，佈署的時候使用的，他也有使用到Python的自帶server，可以讓你不用花時間佈署，直接在本地端檢視。</p>
<p>因為Github page預設會呈現branch:master內的檔案，而我的Makefile中，如果想要佈署在Github的話，預設是把他編譯玩的結果推到branch:gh-pages上，因此在這邊需要修改</p>
<div class="highlight"><pre><span class="nf">github</span><span class="o">:</span> <span class="m">publish</span>
    ghp-import -b master <span class="k">$(</span>OUTPUTDIR<span class="k">)</span>
    git push origin master
</pre></div>


<p>如果有其他想要佈署的機器或者設定，都可以自己新增在這邊，方便以後佈署跟操作。</p>
<h4>撰寫文章</h4>
<p>完成以上的步驟後，你就可以開始寫部落格了！</p>
<p>文章預設都是放在content資料下內，可以複製底下的範例到裡面：</p>
<div class="highlight"><pre>Title: My super title
Date: 2010-12-03 10:20
Category: Python
Tags: pelican, publishing
Slug: my-super-post
Author: Alexis Metaireau
Summary: Short version for index and feeds

This is the content of my super blog post.
</pre></div>


<p>之後直接佈署到Github page上，就可以上去看結果囉，</p>
<div class="highlight"><pre><span class="n">make</span> <span class="n">github</span>
</pre></div>


<p>確認有之後就可以前往你的Github page看看（http://<em>REPO_NAME</em>.github.io），有時候他更新的速度沒有這麼快，需要稍等一下。</p>
<p><strong>或者</strong>，在本地端編譯後連到本地端看，預設是http://localhost:8000</p>
<div class="highlight"><pre>make html
make serv
</pre></div>


<p><em>建議使用兩個terminal，一個開啟server，一個用來測試跟編譯。</em></p>
<p>如果看到頁面就大功告成囉！</p>
<h3>Reference</h3>
<ol>
<li><a href="http://www.dongxf.com/3_Build_Personal_Blog_With_Pelican_And_GitHub_Pages.html">用 Pelican 和 GitHub Pages 搭建免费的个人博客 | 晓风'Blog'</a></li>
<li><a href="http://jsliang.com/blog/2013/02/moving-to-pelican-hosting-on-github-pages.html">網誌搬家！改用 Pelican + GitHub Pages | J. S. Liang (Jenny)</a></li>
<li><a href="http://blog.codylab.com/From-Octopress-To-Pelican/">從octorpess搬家到pelican</a></li>
<li><a href="https://gist.github.com/josefjezek/6053301">How to use Pelican on GitHub Pages</a></li>
</ol>
            </div><!-- /.entry-content -->
                        <div class="comments">
              <h3>Comments</h3>
              <div id="disqus_thread"></div>
              <script type="text/javascript">
                var disqus_identifier = "wang-zhi-ban-qian-gai-yong-pelicanjing-tai-wang-zhi-sheng-cheng-qi.html";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://lucasweisblog.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
              </script>
            </div>
            

        </div><!-- /.eleven.columns -->
        
     <div class="three columns">

<h4>Pages</h4>

 <ul>
              <li><a href="/pages/about-me.html">About Me</a></li>
        </ul>

<h4>Categories</h4>
<ul>
			<li><a href="/category/python.html">Python</a></li>
			<li><a href="/category/sql.html">SQL</a></li>
			<li><a href="/category/tool.html">Tool</a></li>
			<li><a href="/category/blogging.html">blogging</a></li>
	</ul>


<h4>Tags</h4>
	<ul>
		    <li class="tag-4"><a href="/tag/xclip.html">xclip</a></li>
		    <li class="tag-2"><a href="/tag/django.html">Django</a></li>
		    <li class="tag-4"><a href="/tag/ubuntu.html">ubuntu</a></li>
		    <li class="tag-1"><a href="/tag/ubuntu.html">Ubuntu</a></li>
		    <li class="tag-4"><a href="/tag/python.html">python</a></li>
		    <li class="tag-4"><a href="/tag/pelican.html">pelican</a></li>
		    <li class="tag-4"><a href="/tag/sql.html">SQL</a></li>
	</ul>

<nav class="widget">
  <h4>Links</h4>
  <ul>
    </ul>
</nav>

<nav class="widget">
  <h4>Social</h4>
  <ul>
      <li><a href="http://www.plurk.com/lucas0412">Plurk</a></li>
      <li><a href="https://github.com/lucaswei">Github</a></li>
    </ul>
</nav>

</div> </div><!-- /.row -->


</section>

            </div><!-- /.row -->
        </div><!-- /.container -->


        <div class="container.nopad bg">


            <footer id="credits" class="row">
            <div class="seven columns left-center">

                <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                </address>
            </div>


            <div class="seven columns">
                <div class="row">
                    <ul class="socbtns">

                                                <li><div class="btn primary"><a href="https://github.com/lucaswei/lucaswei.github.io" target="_blank">Github</a></div></li>
                        
                        
                        
                        
                    </ul>
                </div>
            </div>
            </footer>

        </div>


        <script type="text/javascript">
    var disqus_shortname = 'lucasweisblog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
        <script src="/theme/js/libs/jquery-1.9.1.min.js"></script>
        <script src="/theme/js/libs/gumby.min.js"></script>
        <script src="/theme/js/plugins.js"></script>
        <script>
            var links = document.links;

            for (var i = 0, linksLength = links.length; i < linksLength; i++) {
               if (links[i].hostname != window.location.hostname) {
                   links[i].target = '_blank';
               } 
            }
        </script>

    </body>
</html>